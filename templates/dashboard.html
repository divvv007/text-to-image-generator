<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My Gallery | AI Image Studio</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body {
    background: radial-gradient(circle at top, #1e293b, #020617);
}

/* Glassmorphism Card */
.glass {
    background: rgba(255,255,255,0.08);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(255,255,255,0.1);
}

/* Masonry Layout */
.masonry {
    column-count: 3;
    column-gap: 1rem;
}
@media (max-width: 992px) {
    .masonry { column-count: 2; }
}
@media (max-width: 576px) {
    .masonry { column-count: 1; }
}
.masonry-item {
    break-inside: avoid;
    margin-bottom: 1rem;
}
</style>
</head>

<body class="text-light">

<!-- NAVBAR -->
<nav class="navbar navbar-expand bg-black px-4 shadow">
    <span class="navbar-brand fw-bold fs-4">ğŸ“¸ My Gallery</span>
    <div class="ms-auto">
        <a href="/" class="btn btn-outline-info btn-sm me-2">Generate</a>
        <a href="/logout" class="btn btn-outline-danger btn-sm">Logout</a>
    </div>
</nav>

<!-- MAIN -->
<div class="container py-5">

<h4 class="mb-4 text-secondary">
Your AI-generated images âœ¨
</h4>

{% if images %}
<div class="masonry">

{% for p, s, img, d, liked in images %}
<div class="masonry-item">
<div class="glass rounded-4 shadow">

<img src="{{ url_for('static', filename='images/' + img) }}"
     class="img-fluid rounded-top">

<div class="p-3">

<p class="mb-1"><b>Prompt:</b> {{ p }}</p>
<p class="mb-1"><b>Style:</b> {{ s }}</p>
<small class="text-secondary">{{ d }}</small>

{% if liked %}
  <div class="mt-2">
    <span class="badge bg-danger">â¤ï¸ Liked</span>
  </div>
{% endif %}

<div class="d-flex justify-content-between mt-3">
  <a href="{{ url_for('static', filename='images/' + img) }}"
     download
     class="btn btn-success btn-sm">â¬‡ Download</a>

  <a href="/delete/{{ img }}"
     onclick="return confirm('Delete this image?')"
     class="btn btn-outline-light btn-sm">ğŸ—‘ Delete</a>
</div>

</div>
</div>
</div>
{% endfor %}

</div>
{% else %}
<div class="glass p-5 rounded-4 text-center text-secondary">
  <h5>No images yet</h5>
  <p>Generate your first AI image ğŸš€</p>
  <a href="/" class="btn btn-outline-info mt-2">Create Image</a>
</div>
{% endif %}

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
